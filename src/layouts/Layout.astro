---
import profileImage from '../assets/profile.webp';
import SpeedInsights  from '@vercel/speed-insights/astro';

interface Props {
	title?: string;
	description?: string;
	image?: string;
	articleSchema?: boolean;
}

const {
	title = "Leo Felcianas - DevOps Engineer & Software Developer",
	description = "DevOps/Backend specialist crafting efficient and scalable solutions. Expert in cloud architecture, containerization, and modern development practices.",
	image = profileImage.src,
	articleSchema = false
} = Astro.props;

const canonicalURL = new URL(Astro.url.pathname, Astro.site);
---

<!doctype html>
<html lang="en" transition:animate="none" class="scroll-smooth">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		
		<!-- Google Site Verification -->
		<meta name="google-site-verification" content="google34f30110b42c1453" />
		
		<!-- Primary Meta Tags -->
		<title>{title}</title>
		<meta name="title" content={title}>
		<meta name="description" content={description}>
		<meta name="author" content="Leo Felcianas">
		<meta name="keywords" content="DevOps Engineer, Software Developer, Backend Developer, Cloud Architecture, Containerization, CI/CD, Kubernetes, Docker, NestJS, TypeScript">
		<link rel="canonical" href={canonicalURL} />

		<!-- Favicons -->
		<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90' font-family='Fira Code' font-weight='bold' text-anchor='middle' x='50' y='50' dominant-baseline='middle' fill='%237aa2f7'>LF</text></svg>" />
		<meta name="msapplication-TileColor" content="#1a1b26">
		<meta name="theme-color" content="#1a1b26">
		<meta name="robots" content="index, follow">
		<meta name="googlebot" content="index, follow">
		<meta name="revisit-after" content="7 days">
		<meta name="rating" content="general">
		
		<!-- Web App Manifest -->
		<link rel="manifest" href="/manifest.json">
		<meta name="mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
		<meta name="apple-mobile-web-app-title" content="Leo Felcianas">

		<!-- Open Graph / Facebook -->
		<meta property="og:type" content="website">
		<meta property="og:url" content={canonicalURL}>
		<meta property="og:title" content={title}>
		<meta property="og:description" content={description}>
		<meta property="og:image" content={image}>
		<meta property="og:image:width" content="400">
		<meta property="og:image:height" content="400">
		<meta property="og:locale" content="en_US">
		<meta property="og:site_name" content="Leo Felcianas">

		<!-- Twitter -->
		<meta property="twitter:card" content="summary">
		<meta property="twitter:url" content={canonicalURL}>
		<meta property="twitter:title" content={title}>
		<meta property="twitter:description" content={description}>
		<meta property="twitter:image" content={image}>

		<meta name="view-transition" content="same-origin" />
		
		<!-- Preconnect to external resources -->
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		
		

		<!-- Structured Data / JSON-LD -->
		<script type="application/ld+json">
		{
			"@context": "https://schema.org",
			"@type": "Person",
			"name": "Leo Felcianas",
			"jobTitle": "DevOps Engineer & Software Developer",
			"description": "DevOps/Backend specialist crafting efficient and scalable solutions. Expert in cloud architecture, containerization, and modern development practices.",
			"url": "https://itsme.dfanso.dev/",
			"image": "https://itsme.dfanso.dev/profile.webp",
			"sameAs": [
				"https://github.com/dfanso",
				"https://linkedin.com/in/dfanso"
			],
			"alumniOf": {
				"@type": "CollegeOrUniversity",
				"name": "University of Plymouth",
				"sameAs": "https://www.plymouth.ac.uk/"
			},
			"knowsAbout": ["DevOps", "Cloud Architecture", "Backend Development", "Kubernetes", "Docker", "NestJS", "TypeScript"]
		}
		</script>
		
		{articleSchema && (
		<script type="application/ld+json" set:html={JSON.stringify({
			"@context": "https://schema.org",
			"@type": "Article",
			"headline": title,
			"description": description,
			"image": image,
			"author": {
				"@type": "Person",
				"name": "Leo Felcianas",
				"url": "https://itsme.dfanso.dev/"
			},
			"publisher": {
				"@type": "Person",
				"name": "Leo Felcianas",
				"url": "https://itsme.dfanso.dev/"
			},
			"url": canonicalURL,
			"datePublished": new Date().toISOString(),
			"dateModified": new Date().toISOString()
		})}>
		</script>
		)}
		
		<!-- SEO improvement - website schema -->
		<script type="application/ld+json">
		{
			"@context": "https://schema.org",
			"@type": "WebSite",
			"name": "Leo Felcianas Portfolio",
			"url": "https://itsme.dfanso.dev/",
			"potentialAction": {
				"@type": "SearchAction",
				"target": "https://itsme.dfanso.dev/?s={search_term_string}",
				"query-input": "required name=search_term_string"
			}
		}
		</script>
	</head>
	<body class="bg-[#1a1b26] text-[#c0caf5] h-screen overflow-hidden font-mono selection:bg-[#7aa2f7] selection:text-[#1a1b26]">
		<div class="fixed inset-0 -z-10 bg-[#1a1b26]">
			<div class="absolute inset-0 bg-[#1a1b26]"></div>
		</div>
		<main class="relative h-full">
			<slot />
		</main>
		<SpeedInsights />
	</body>
</html>

<style is:global>
	:root {
		--primary: #7aa2f7;
		--secondary: #9ece6a;
		--text: #c0caf5;
		--bg: #1a1b26;
		--accent: #bb9af7;
	}

	body {
		font-family: 'Fira Code', monospace;
	}

	.command-prompt {
		color: var(--primary);
	}

	a {
		color: var(--primary);
		text-decoration: none;
		transition: color 0.2s ease;
	}

	a:hover {
		color: var(--accent);
	}

	.section-title {
		color: var(--primary);
		font-size: 1rem;
		font-weight: 500;
		display: flex;
		align-items: center;
		gap: 0.5rem;
	}

	/* Custom scrollbar */
	::-webkit-scrollbar {
		width: 4px;
	}

	::-webkit-scrollbar-track {
		background: transparent;
	}

	::-webkit-scrollbar-thumb {
		background: var(--primary);
		border-radius: 4px;
	}

	::-webkit-scrollbar-thumb:hover {
		background: var(--accent);
	}

	/* Terminal-style text selection */
	::selection {
		background: var(--primary);
		color: var(--bg);
	}
</style>
